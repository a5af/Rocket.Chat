<template name="threads">
	{{#unless hasThreads}}
		<h2 class="thread-empty">{{_ "No_Threads"}}</h2>
	{{/unless}}
	{{# with messageContext}}
		<div class="thread-list js-scroll-threads">
			<ul class="thread">
				{{#each thread in threads}}
					{{> nrr nrrargs 'message'
						groupable=false
						msg=thread
						room=room
						subscription=subscription
						customClass="thread-message"
						settings=settings
						templatePrefix='threads-'
						u=u
						noDate=true
						context="threads"
						timeAgo=true
				 	}}
				{{/each}}
			</ul>
		</div>
		<div class="rc-user-info-container flex-nav animated{{#unless message}} animated-hidden{{/unless}}">
			{{#if message}} {{> thread mainMessage=message room=room subscription=subscription settings=settings close=close}} {{/if}}
		</div>
	{{/with}}
	{{#if isLoading}}
		<div class="load-more">
			{{> loading}}
		</div>
	{{/if}}
</template>
